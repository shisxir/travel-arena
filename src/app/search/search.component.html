<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@700&family=Poppins:wght@400;500;600&display=swap">

<section class="d-flex search" id="search">
    <div class="container-fluid booking mt-2 pb-2">
        <form [formGroup]="searchForm" (ngSubmit)="onSubmit()"> <!--#searchForm="ngForm">-->
            <div class="container pb-3">
                <div class="bg-light shadow" style="padding: 30px;">
                    <div class="row align-items-center" style="min-height: 60px;">
                        <div class="col-md-10">
                            <div class="row">
                                <!-- Destination -->
                                <div class="form-group col-md-3">
                                    <span class="mb-2"
                                        style="font-family:noto serif,serif;font-size:14px;">Destination</span>
                                    <div class="mb-3 mb-md-0">
                                        <select class="form-control custom-select px-4" formControlName="destination"
                                            style="height: 47px;">
                                            <option value="" disabled selected>Destination</option>
                                            <option *ngFor="let destination of destinations" [value]="destination">
                                                {{destination}}</option>
                                        </select>
                                        <div>
                                            <span class="text-danger"
                                                *ngIf="searchForm.get('destination')?.invalid && (searchForm.get('destination')?.dirty || searchForm.get('destination')?.touched)">Destination
                                                is required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- DepartureDate -->
                                <div class="form-group col-md-3">
                                    <span class="mb-2"
                                        style="font-family:noto serif,serif;font-size:14px;">Departure
                                        Date</span>
                                    <div class="mb-3 mb-md-0">
                                        <div class="date" id="date1" data-target-input="nearest">
                                            <input type="text" class="form-control p-4" formControlName="departure"
                                                placeholder="Depart Date" [min]="todayDate" (focus)="onFocus($event)"
                                                (blur)="onBlur($event)" />
                                            <div>
                                                <span class="text-danger"
                                                    *ngIf="searchForm.get('depatureDate')?.invalid && searchForm.get('depatureDate')?.dirty">Departure
                                                    Date is required</span>
                                                <!-- <span class="text-danger" *ngIf="searchForm.get('depatureDate')?.errors?.invalidDate">Departure Date must be greater than today</span> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Duration -->
                                <div class="form-group col-md-3">
                                    <span class="mb-2"
                                        style="font-family:noto serif,serif;font-size:14px;">Duration</span>
                                    <div class="mb-3 mb-md-0">
                                        <select class="form-control custom-select px-4" formControlName="duration"
                                            style="height: 47px;">
                                            <option value="" disabled selected>Duration</option>
                                            <option *ngFor="let duration of durations" [value]="duration">{{ duration}}
                                            </option>
                                        </select>
                                        <div>
                                            <span class="text-danger"
                                                *ngIf="searchForm.get('duration')?.invalid && searchForm.get('duration')?.dirty">Duration
                                                is required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Guests -->
                                <div class="form-group col-md-3">
                                    <span class="mb-2"
                                        style="font-family:noto serif,serif;font-size:14px; font-weight: 200;">Guests</span>
                                    <div class="mb-3 mb-md-0">
                                        <div>
                                            <input type="number" class="form-control p-4" formControlName="guests"
                                                placeholder="Guests" min="1" />
                                        </div>
                                        <div>
                                            <span class="text-danger"
                                                *ngIf="searchForm.get('guests')?.invalid && searchForm.get('guests')?.dirty">Guests
                                                is required</span>
                                            <!-- <span class="text-danger" *ngIf="searchForm.get('guests').errors?.min">Guests must be at least 1</span> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Submit Button -->
                        <!-- <div class="col-md-2 mt-2" *ngIf="isFormInvalid()===true">
                            <button id="searchButton" class="btn btn-primary btn-block" type="submit"
                                style="height: 47px; margin-top: -2px;" [disabled]="!searchForm.get('destination')?.value">Submit</button>
                        </div> -->
                        <!-- <div class="col-md-2 mt-2" *ngIf="isFormInvalid()===false">
                            <button id="searchButton" class="btn btn-primary btn-block" type="submit"
                                style="height: 47px; margin-top: -50px;" [disabled]="!searchForm.get('destination')?.value">Submit</button>
                        </div> -->
                        <div class="col-md-2 mt-2" style="font-family: noto serif, serif; font-weight: 200;">
                            <button id="searchButton" class="btn btn-primary btn-block" type="submit"
                                style="height: 47px; margin-top: -2px; position:relative;"
                                [disabled]="!searchForm.get('destination')?.value">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>